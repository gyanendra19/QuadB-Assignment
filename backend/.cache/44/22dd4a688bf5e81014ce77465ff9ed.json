{"id":"xlzg","dependencies":[{"name":"D:\\Coding\\Projects\\QuadB Assignment\\backend\\package.json","includedInParent":true,"mtime":1706856909708},{"name":"axios","loc":{"line":1,"column":22,"index":22},"parent":"D:\\Coding\\Projects\\QuadB Assignment\\backend\\Controllers\\ticketController.js","resolved":"D:\\Coding\\Projects\\QuadB Assignment\\backend\\node_modules\\axios\\index.js"},{"name":"../database/db","loc":{"line":2,"column":21,"index":53},"parent":"D:\\Coding\\Projects\\QuadB Assignment\\backend\\Controllers\\ticketController.js","resolved":"D:\\Coding\\Projects\\QuadB Assignment\\backend\\database\\db.js"}],"generated":{"js":"var t=require(\"axios\"),e=require(\"../database/db\"),c={};exports.ticketData=function(t,n){fetch(\"https://api.wazirx.com/api/v2/tickers\").then(function(t){return t.json()}).then(function(t){Object.keys(t).slice(0,10).forEach(function(e){c[e]=t[e]}),Object.keys(c).forEach(function(t){e.query(\"insert into wazirx (name, last, buy, sell, volume, base_unit) values ('\".concat(c[t].name,\"', \").concat(c[t].last,\", \").concat(c[t].buy,\", \").concat(c[t].sell,\", \").concat(c[t].volume,\", '\").concat(c[t].base_unit,\"'\\n                    );\"))})}),n.status(201).json({status:\"success\"})},exports.updateTicket=function(t,n){fetch(\"https://api.wazirx.com/api/v2/tickers\").then(function(t){return t.json()}).then(function(t){Object.keys(t).slice(0,10).forEach(function(e){c[e]=t[e]}),Object.keys(c).forEach(function(t){e.query(\"update wazirx set name = '\".concat(c[t].name,\"', last = \").concat(c[t].last,\",buy = \").concat(c[t].buy,\", sell = \").concat(c[t].sell,\", volume = \").concat(c[t].volume,\", base_unit = '\").concat(c[t].base_unit,\"' where name = '\").concat(c[t].name,\"'\"))})}),n.status(201).json({status:\"success\"})},exports.getTicket=function(t,c){e.query(\"SELECT * FROM wazirx\",function(t,e){c.status(200).json(e.rows)})};"},"sourceMaps":{"js":{"mappings":[{"source":"Controllers/ticketController.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"Controllers/ticketController.js","name":"axios","original":{"line":1,"column":6},"generated":{"line":1,"column":4}},{"source":"Controllers/ticketController.js","name":"require","original":{"line":1,"column":14},"generated":{"line":1,"column":6}},{"source":"Controllers/ticketController.js","original":{"line":1,"column":22},"generated":{"line":1,"column":14}},{"source":"Controllers/ticketController.js","name":"pool","original":{"line":2,"column":6},"generated":{"line":1,"column":23}},{"source":"Controllers/ticketController.js","name":"require","original":{"line":2,"column":13},"generated":{"line":1,"column":25}},{"source":"Controllers/ticketController.js","original":{"line":2,"column":21},"generated":{"line":1,"column":33}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":4,"column":4},"generated":{"line":1,"column":51}},{"source":"Controllers/ticketController.js","original":{"line":4,"column":22},"generated":{"line":1,"column":53}},{"source":"Controllers/ticketController.js","name":"exports","original":{"line":5,"column":0},"generated":{"line":1,"column":56}},{"source":"Controllers/ticketController.js","name":"ticketData","original":{"line":5,"column":8},"generated":{"line":1,"column":64}},{"source":"Controllers/ticketController.js","original":{"line":5,"column":21},"generated":{"line":1,"column":75}},{"source":"Controllers/ticketController.js","name":"req","original":{"line":5,"column":22},"generated":{"line":1,"column":84}},{"source":"Controllers/ticketController.js","name":"res","original":{"line":5,"column":27},"generated":{"line":1,"column":86}},{"source":"Controllers/ticketController.js","name":"fetch","original":{"line":6,"column":4},"generated":{"line":1,"column":89}},{"source":"Controllers/ticketController.js","original":{"line":6,"column":10},"generated":{"line":1,"column":95}},{"source":"Controllers/ticketController.js","name":"then","original":{"line":7,"column":9},"generated":{"line":1,"column":136}},{"source":"Controllers/ticketController.js","original":{"line":7,"column":14},"generated":{"line":1,"column":141}},{"source":"Controllers/ticketController.js","name":"res","original":{"line":7,"column":14},"generated":{"line":1,"column":150}},{"source":"Controllers/ticketController.js","original":{"line":7,"column":17},"generated":{"line":1,"column":153}},{"source":"Controllers/ticketController.js","name":"res","original":{"line":7,"column":21},"generated":{"line":1,"column":160}},{"source":"Controllers/ticketController.js","name":"json","original":{"line":7,"column":25},"generated":{"line":1,"column":162}},{"source":"Controllers/ticketController.js","name":"then","original":{"line":8,"column":9},"generated":{"line":1,"column":171}},{"source":"Controllers/ticketController.js","original":{"line":8,"column":14},"generated":{"line":1,"column":176}},{"source":"Controllers/ticketController.js","name":"result","original":{"line":8,"column":14},"generated":{"line":1,"column":185}},{"source":"Controllers/ticketController.js","name":"Object","original":{"line":9,"column":25},"generated":{"line":1,"column":188}},{"source":"Controllers/ticketController.js","name":"keys","original":{"line":9,"column":32},"generated":{"line":1,"column":195}},{"source":"Controllers/ticketController.js","name":"result","original":{"line":9,"column":37},"generated":{"line":1,"column":200}},{"source":"Controllers/ticketController.js","name":"slice","original":{"line":11,"column":38},"generated":{"line":1,"column":203}},{"source":"Controllers/ticketController.js","original":{"line":11,"column":44},"generated":{"line":1,"column":209}},{"source":"Controllers/ticketController.js","original":{"line":11,"column":47},"generated":{"line":1,"column":211}},{"source":"Controllers/ticketController.js","name":"forEach","original":{"line":13,"column":25},"generated":{"line":1,"column":215}},{"source":"Controllers/ticketController.js","original":{"line":13,"column":33},"generated":{"line":1,"column":223}},{"source":"Controllers/ticketController.js","name":"key","original":{"line":13,"column":33},"generated":{"line":1,"column":232}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":14,"column":16},"generated":{"line":1,"column":235}},{"source":"Controllers/ticketController.js","name":"key","original":{"line":14,"column":32},"generated":{"line":1,"column":237}},{"source":"Controllers/ticketController.js","name":"result","original":{"line":14,"column":39},"generated":{"line":1,"column":240}},{"source":"Controllers/ticketController.js","name":"key","original":{"line":14,"column":46},"generated":{"line":1,"column":242}},{"source":"Controllers/ticketController.js","name":"Object","original":{"line":17,"column":28},"generated":{"line":1,"column":247}},{"source":"Controllers/ticketController.js","name":"keys","original":{"line":17,"column":35},"generated":{"line":1,"column":254}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":17,"column":40},"generated":{"line":1,"column":259}},{"source":"Controllers/ticketController.js","name":"forEach","original":{"line":18,"column":20},"generated":{"line":1,"column":262}},{"source":"Controllers/ticketController.js","original":{"line":18,"column":28},"generated":{"line":1,"column":270}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":18,"column":28},"generated":{"line":1,"column":279}},{"source":"Controllers/ticketController.js","name":"pool","original":{"line":19,"column":16},"generated":{"line":1,"column":282}},{"source":"Controllers/ticketController.js","name":"query","original":{"line":19,"column":21},"generated":{"line":1,"column":284}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":26},"generated":{"line":1,"column":290}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":26},"generated":{"line":1,"column":364}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":19,"column":101},"generated":{"line":1,"column":371}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":19,"column":117},"generated":{"line":1,"column":373}},{"source":"Controllers/ticketController.js","name":"name","original":{"line":19,"column":125},"generated":{"line":1,"column":376}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":129},"generated":{"line":1,"column":381}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":129},"generated":{"line":1,"column":388}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":19,"column":135},"generated":{"line":1,"column":395}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":19,"column":151},"generated":{"line":1,"column":397}},{"source":"Controllers/ticketController.js","name":"last","original":{"line":19,"column":159},"generated":{"line":1,"column":400}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":163},"generated":{"line":1,"column":405}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":163},"generated":{"line":1,"column":411}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":19,"column":168},"generated":{"line":1,"column":418}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":19,"column":184},"generated":{"line":1,"column":420}},{"source":"Controllers/ticketController.js","name":"buy","original":{"line":19,"column":192},"generated":{"line":1,"column":423}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":195},"generated":{"line":1,"column":427}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":195},"generated":{"line":1,"column":433}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":19,"column":200},"generated":{"line":1,"column":440}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":19,"column":216},"generated":{"line":1,"column":442}},{"source":"Controllers/ticketController.js","name":"sell","original":{"line":19,"column":224},"generated":{"line":1,"column":445}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":228},"generated":{"line":1,"column":450}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":228},"generated":{"line":1,"column":456}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":19,"column":233},"generated":{"line":1,"column":463}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":19,"column":249},"generated":{"line":1,"column":465}},{"source":"Controllers/ticketController.js","name":"volume","original":{"line":19,"column":257},"generated":{"line":1,"column":468}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":263},"generated":{"line":1,"column":475}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":19,"column":263},"generated":{"line":1,"column":482}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":19,"column":269},"generated":{"line":1,"column":489}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":19,"column":285},"generated":{"line":1,"column":491}},{"source":"Controllers/ticketController.js","name":"base_unit","original":{"line":19,"column":293},"generated":{"line":1,"column":494}},{"source":"Controllers/ticketController.js","original":{"line":20,"column":23},"generated":{"line":1,"column":504}},{"source":"Controllers/ticketController.js","name":"res","original":{"line":23,"column":8},"generated":{"line":1,"column":538}},{"source":"Controllers/ticketController.js","name":"status","original":{"line":23,"column":12},"generated":{"line":1,"column":540}},{"source":"Controllers/ticketController.js","original":{"line":23,"column":19},"generated":{"line":1,"column":547}},{"source":"Controllers/ticketController.js","name":"json","original":{"line":23,"column":24},"generated":{"line":1,"column":552}},{"source":"Controllers/ticketController.js","original":{"line":23,"column":29},"generated":{"line":1,"column":557}},{"source":"Controllers/ticketController.js","name":"status","original":{"line":24,"column":12},"generated":{"line":1,"column":558}},{"source":"Controllers/ticketController.js","original":{"line":24,"column":20},"generated":{"line":1,"column":565}},{"source":"Controllers/ticketController.js","name":"exports","original":{"line":28,"column":0},"generated":{"line":1,"column":578}},{"source":"Controllers/ticketController.js","name":"updateTicket","original":{"line":28,"column":8},"generated":{"line":1,"column":586}},{"source":"Controllers/ticketController.js","original":{"line":28,"column":23},"generated":{"line":1,"column":599}},{"source":"Controllers/ticketController.js","name":"req","original":{"line":28,"column":24},"generated":{"line":1,"column":608}},{"source":"Controllers/ticketController.js","name":"res","original":{"line":28,"column":29},"generated":{"line":1,"column":610}},{"source":"Controllers/ticketController.js","name":"fetch","original":{"line":29,"column":4},"generated":{"line":1,"column":613}},{"source":"Controllers/ticketController.js","original":{"line":29,"column":10},"generated":{"line":1,"column":619}},{"source":"Controllers/ticketController.js","name":"then","original":{"line":30,"column":9},"generated":{"line":1,"column":660}},{"source":"Controllers/ticketController.js","original":{"line":30,"column":14},"generated":{"line":1,"column":665}},{"source":"Controllers/ticketController.js","name":"res","original":{"line":30,"column":14},"generated":{"line":1,"column":674}},{"source":"Controllers/ticketController.js","original":{"line":30,"column":17},"generated":{"line":1,"column":677}},{"source":"Controllers/ticketController.js","name":"res","original":{"line":30,"column":21},"generated":{"line":1,"column":684}},{"source":"Controllers/ticketController.js","name":"json","original":{"line":30,"column":25},"generated":{"line":1,"column":686}},{"source":"Controllers/ticketController.js","name":"then","original":{"line":31,"column":9},"generated":{"line":1,"column":695}},{"source":"Controllers/ticketController.js","original":{"line":31,"column":14},"generated":{"line":1,"column":700}},{"source":"Controllers/ticketController.js","name":"result","original":{"line":31,"column":14},"generated":{"line":1,"column":709}},{"source":"Controllers/ticketController.js","name":"Object","original":{"line":32,"column":25},"generated":{"line":1,"column":712}},{"source":"Controllers/ticketController.js","name":"keys","original":{"line":32,"column":32},"generated":{"line":1,"column":719}},{"source":"Controllers/ticketController.js","name":"result","original":{"line":32,"column":37},"generated":{"line":1,"column":724}},{"source":"Controllers/ticketController.js","name":"slice","original":{"line":34,"column":38},"generated":{"line":1,"column":727}},{"source":"Controllers/ticketController.js","original":{"line":34,"column":44},"generated":{"line":1,"column":733}},{"source":"Controllers/ticketController.js","original":{"line":34,"column":47},"generated":{"line":1,"column":735}},{"source":"Controllers/ticketController.js","name":"forEach","original":{"line":36,"column":25},"generated":{"line":1,"column":739}},{"source":"Controllers/ticketController.js","original":{"line":36,"column":33},"generated":{"line":1,"column":747}},{"source":"Controllers/ticketController.js","name":"key","original":{"line":36,"column":33},"generated":{"line":1,"column":756}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":37,"column":16},"generated":{"line":1,"column":759}},{"source":"Controllers/ticketController.js","name":"key","original":{"line":37,"column":32},"generated":{"line":1,"column":761}},{"source":"Controllers/ticketController.js","name":"result","original":{"line":37,"column":39},"generated":{"line":1,"column":764}},{"source":"Controllers/ticketController.js","name":"key","original":{"line":37,"column":46},"generated":{"line":1,"column":766}},{"source":"Controllers/ticketController.js","name":"Object","original":{"line":40,"column":28},"generated":{"line":1,"column":771}},{"source":"Controllers/ticketController.js","name":"keys","original":{"line":40,"column":35},"generated":{"line":1,"column":778}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":40,"column":40},"generated":{"line":1,"column":783}},{"source":"Controllers/ticketController.js","name":"forEach","original":{"line":41,"column":20},"generated":{"line":1,"column":786}},{"source":"Controllers/ticketController.js","original":{"line":41,"column":28},"generated":{"line":1,"column":794}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":41,"column":28},"generated":{"line":1,"column":803}},{"source":"Controllers/ticketController.js","name":"pool","original":{"line":42,"column":16},"generated":{"line":1,"column":806}},{"source":"Controllers/ticketController.js","name":"query","original":{"line":42,"column":21},"generated":{"line":1,"column":808}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":26},"generated":{"line":1,"column":814}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":26},"generated":{"line":1,"column":843}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":42,"column":56},"generated":{"line":1,"column":850}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":42,"column":72},"generated":{"line":1,"column":852}},{"source":"Controllers/ticketController.js","name":"name","original":{"line":42,"column":80},"generated":{"line":1,"column":855}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":84},"generated":{"line":1,"column":860}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":84},"generated":{"line":1,"column":874}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":42,"column":97},"generated":{"line":1,"column":881}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":42,"column":113},"generated":{"line":1,"column":883}},{"source":"Controllers/ticketController.js","name":"last","original":{"line":42,"column":121},"generated":{"line":1,"column":886}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":125},"generated":{"line":1,"column":891}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":125},"generated":{"line":1,"column":902}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":42,"column":135},"generated":{"line":1,"column":909}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":42,"column":151},"generated":{"line":1,"column":911}},{"source":"Controllers/ticketController.js","name":"buy","original":{"line":42,"column":159},"generated":{"line":1,"column":914}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":162},"generated":{"line":1,"column":918}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":162},"generated":{"line":1,"column":931}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":42,"column":174},"generated":{"line":1,"column":938}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":42,"column":190},"generated":{"line":1,"column":940}},{"source":"Controllers/ticketController.js","name":"sell","original":{"line":42,"column":198},"generated":{"line":1,"column":943}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":202},"generated":{"line":1,"column":948}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":202},"generated":{"line":1,"column":963}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":42,"column":216},"generated":{"line":1,"column":970}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":42,"column":232},"generated":{"line":1,"column":972}},{"source":"Controllers/ticketController.js","name":"volume","original":{"line":42,"column":240},"generated":{"line":1,"column":975}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":246},"generated":{"line":1,"column":982}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":246},"generated":{"line":1,"column":1001}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":42,"column":264},"generated":{"line":1,"column":1008}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":42,"column":280},"generated":{"line":1,"column":1010}},{"source":"Controllers/ticketController.js","name":"base_unit","original":{"line":42,"column":288},"generated":{"line":1,"column":1013}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":297},"generated":{"line":1,"column":1023}},{"source":"Controllers/ticketController.js","name":"concat","original":{"line":42,"column":297},"generated":{"line":1,"column":1043}},{"source":"Controllers/ticketController.js","name":"firstTenResults","original":{"line":42,"column":316},"generated":{"line":1,"column":1050}},{"source":"Controllers/ticketController.js","name":"newKey","original":{"line":42,"column":332},"generated":{"line":1,"column":1052}},{"source":"Controllers/ticketController.js","name":"name","original":{"line":42,"column":340},"generated":{"line":1,"column":1055}},{"source":"Controllers/ticketController.js","original":{"line":42,"column":347},"generated":{"line":1,"column":1060}},{"source":"Controllers/ticketController.js","name":"res","original":{"line":46,"column":8},"generated":{"line":1,"column":1070}},{"source":"Controllers/ticketController.js","name":"status","original":{"line":46,"column":12},"generated":{"line":1,"column":1072}},{"source":"Controllers/ticketController.js","original":{"line":46,"column":19},"generated":{"line":1,"column":1079}},{"source":"Controllers/ticketController.js","name":"json","original":{"line":46,"column":24},"generated":{"line":1,"column":1084}},{"source":"Controllers/ticketController.js","original":{"line":46,"column":29},"generated":{"line":1,"column":1089}},{"source":"Controllers/ticketController.js","name":"status","original":{"line":47,"column":12},"generated":{"line":1,"column":1090}},{"source":"Controllers/ticketController.js","original":{"line":47,"column":20},"generated":{"line":1,"column":1097}},{"source":"Controllers/ticketController.js","name":"exports","original":{"line":51,"column":0},"generated":{"line":1,"column":1110}},{"source":"Controllers/ticketController.js","name":"getTicket","original":{"line":51,"column":8},"generated":{"line":1,"column":1118}},{"source":"Controllers/ticketController.js","original":{"line":51,"column":20},"generated":{"line":1,"column":1128}},{"source":"Controllers/ticketController.js","name":"req","original":{"line":51,"column":21},"generated":{"line":1,"column":1137}},{"source":"Controllers/ticketController.js","name":"res","original":{"line":51,"column":26},"generated":{"line":1,"column":1139}},{"source":"Controllers/ticketController.js","name":"pool","original":{"line":52,"column":4},"generated":{"line":1,"column":1142}},{"source":"Controllers/ticketController.js","name":"query","original":{"line":52,"column":9},"generated":{"line":1,"column":1144}},{"source":"Controllers/ticketController.js","original":{"line":52,"column":39},"generated":{"line":1,"column":1150}},{"source":"Controllers/ticketController.js","original":{"line":52,"column":39},"generated":{"line":1,"column":1173}},{"source":"Controllers/ticketController.js","name":"err","original":{"line":52,"column":40},"generated":{"line":1,"column":1182}},{"source":"Controllers/ticketController.js","name":"results","original":{"line":52,"column":45},"generated":{"line":1,"column":1184}},{"source":"Controllers/ticketController.js","name":"res","original":{"line":54,"column":8},"generated":{"line":1,"column":1187}},{"source":"Controllers/ticketController.js","name":"status","original":{"line":54,"column":12},"generated":{"line":1,"column":1189}},{"source":"Controllers/ticketController.js","original":{"line":54,"column":19},"generated":{"line":1,"column":1196}},{"source":"Controllers/ticketController.js","name":"json","original":{"line":54,"column":24},"generated":{"line":1,"column":1201}},{"source":"Controllers/ticketController.js","name":"results","original":{"line":54,"column":29},"generated":{"line":1,"column":1206}},{"source":"Controllers/ticketController.js","name":"rows","original":{"line":54,"column":37},"generated":{"line":1,"column":1208}}],"sources":{"Controllers/ticketController.js":"const axios = require('axios')\r\nconst pool = require('../database/db')\r\n\r\nlet firstTenResults = {};\r\nexports.ticketData = (req, res) => {\r\n    fetch('https://api.wazirx.com/api/v2/tickers')\r\n        .then(res => res.json())\r\n        .then(result => {\r\n            const keys = Object.keys(result)\r\n\r\n            const firstTenKeys = keys.slice(0, 10)\r\n\r\n            firstTenKeys.forEach(key => {\r\n                firstTenResults[key] = result[key]\r\n            })\r\n\r\n            const tenKeys = Object.keys(firstTenResults)\r\n            tenKeys.forEach(newKey => {\r\n                pool.query(`insert into wazirx (name, last, buy, sell, volume, base_unit) values ('${firstTenResults[newKey].name}', ${firstTenResults[newKey].last}, ${firstTenResults[newKey].buy}, ${firstTenResults[newKey].sell}, ${firstTenResults[newKey].volume}, '${firstTenResults[newKey].base_unit}'\r\n                    );`)\r\n            })\r\n        })\r\n        res.status(201).json({\r\n            status: 'success'\r\n        })\r\n}\r\n\r\nexports.updateTicket = (req, res) => {\r\n    fetch('https://api.wazirx.com/api/v2/tickers')\r\n        .then(res => res.json())\r\n        .then(result => {\r\n            const keys = Object.keys(result)\r\n\r\n            const firstTenKeys = keys.slice(0, 10)\r\n\r\n            firstTenKeys.forEach(key => {\r\n                firstTenResults[key] = result[key]\r\n            })\r\n\r\n            const tenKeys = Object.keys(firstTenResults)\r\n            tenKeys.forEach(newKey => {\r\n                pool.query(`update wazirx set name = '${firstTenResults[newKey].name}', last = ${firstTenResults[newKey].last},buy = ${firstTenResults[newKey].buy}, sell = ${firstTenResults[newKey].sell}, volume = ${firstTenResults[newKey].volume}, base_unit = '${firstTenResults[newKey].base_unit}' where name = '${firstTenResults[newKey].name}'`)\r\n            })\r\n        })\r\n\r\n        res.status(201).json({\r\n            status: 'success'\r\n        })\r\n}\r\n\r\nexports.getTicket = (req, res) => {\r\n    pool.query(`SELECT * FROM wazirx`, (err, results) => {\r\n        // if(err) throw new Error\r\n        res.status(200).json(results.rows)\r\n    })\r\n}\r\n\r\n\r\n"},"lineCount":null}},"error":null,"hash":"bbbb6d733f98356ca298167b17515bd8","cacheData":{"env":{}}}